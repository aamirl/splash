$(document).on("ready",function(){$(".country-select").val($(".country-select").data("country"));var a=Sellyx.path.parameters("q");$('input[data-var="q"]').val(a?decodeURIComponent(a):""),$(document).on("click",".postal-button",function(a){a.stopImmediatePropagation(),$('<div class="input-group postal-div" style="display:none;margin-top:-2px;"><span class="input-group-addon cancel-postal-button" style="padding:2px 8px;"><i class="fa fa-close s-d-red"></i></span> <input type="text" class="form-control send validate" data-var="postal" style="height:25px;width:80px;" placeholder="Postal" aria-describedby="Postal"> <span class="input-group-addon submit-postal-button" style="padding:2px 8px;"><i class="fa fa-chevron-right s-d-yellow"></i></span> </div>\n				').insertAfter($(this)),$(this).hide(),$(".postal-div").fadeIn(),$(".postal-div input").focus()}).on("click",".cancel-postal-button",function(){$(".postal-div").remove(),$(".postal-button").fadeIn()}).on("click",".submit-postal-button",function(a){a.stopImmediatePropagation(),Sellyx.ajax.standard({url:"/common/handle/postal",button:$(this),container:{divs:$(this).parents(".postal-div"),html:"data-var"},failure:function(){alertify.alert("The postal code submitted was not found for the current country. Please try again.")},success:function(a){0==$(document).find("#postal_modal").length?($(".postal-button span").text(a),$(".postal-div").remove(),$(".postal-button").fadeIn()):Sellyx.path.reload()}})}).on("change",".country-select",function(a){a.stopImmediatePropagation(),Sellyx.ajax.standard({url:"/common/handle/country",button:$(this),data:"&id="+$(this).val(),success:function(){window.location.reload()}})}).on("click","#search_button",function(a){a.stopImmediatePropagation();var b=$(this).parents(".input-group").find('input[data-var="q"]');""!=b.val().trim()?window.location.replace("/world/search?&q="+b.val()):alertify.error("Oops! Please enter something to search for.")})});