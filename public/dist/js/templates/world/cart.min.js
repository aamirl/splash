$(document).on("ready",function(){var a=s_lang.cart;$(document).on("click",".checkout-modify-quantity",function(){var a=$(this).siblings("i"),b=$(this).siblings("input");a.show(),b.prop("disabled",!1),$(this).text("Confirm").addClass("btn-green checkout-confirm-quantity").removeClass("btn-blue checkout-modify-quantity")}).on("click",".checkout-cancel-quantity",function(){$(this).siblings("button").text("Update").addClass("btn-blue checkout-modify-quantity").removeClass("btn-green checkout-confirm-quantity");var a=$(this).siblings("input");a.prop("disabled",!0).val(a.attr("value")),$(this).hide()}).on("click",".checkout-confirm-quantity",function(){var a=$(this).parents(".checkout-row");Sellyx.ajax.standard({url:"quantity",button:$(this),data:"&seller="+a.attr("seller")+"&listing="+a.attr("listing")+"&product="+a.attr("product")+"&quantity="+$(this).siblings("input").val(),success:function(){window.location.reload()}})}).on("click",".checkout-delete-button",function(){var b=$(this).parents(".checkout-row");Sellyx.ajax.standard({lang:a.ajax.delete,url:"delete",button:$(this),data:"&seller="+b.attr("seller")+"&listing="+b.attr("listing")+"&product="+b.attr("product"),success:function(){window.location.reload()}})}).on("click",".waive-return-button",function(){var b=$(this).parents(".checkout-row");Sellyx.ajax.standard({lang:a.ajax.waive[$(this).data("waive")],url:"waive",button:$(this),data:"&seller="+b.attr("seller")+"&listing="+b.attr("listing")+"&product="+b.attr("product")+"&type="+$(this).data("waive"),success:function(){window.location.reload()}})}).on("click",".shipping-button",function(){var a=$(this).parents("tr").attr("seller");Sellyx.ajax.standard({url:"shipping",button:$(this),data:"&seller="+a,before:function(){$("#shippingModal").removeData("chosen"),$(".shipping-button").prop("disabled",!0)},always:function(){$(".shipping-button").prop("disabled",!1)},success:function(c){var d="",e={custom:{label:!0,child:!0,id:!0,get_label:!0},grouped:{label:c.custom&&Object.keys(c.custom).length>0?"Rest of Items":"Items"},l1:{label:"L1 Domestic",superchild:!0,id:!0},l2c:{label:"L2 International Consolidated",child:!0,id:!0},l2d:{label:"L2 International Direct",child:!0,id:!0},l3:{label:"L3 Domestic"}};$.each(e,function(a,e){c[a]&&(d+=b($.extend(e,{data:c[a],type:a})))}),$("#shippingModal").data("chosen",a),$("#shippingModal .modal-body")[0].innerHTML=d,$("#shippingModal").modal("show")}})}).on("click",".paypal-button",function(){Sellyx.ajax.standard({url:"l_paypal",button:$(this),lang:a.ajax.finalize,block:"window",container:{divs:$("#checkout_container_div"),html:"data-var"},success:function(a){$.blockUI({message:"Redirecting to PayPal, please wait..."}),window.location.assign(a)}})}).on("click","#shippingModal .save-button",function(){return $("#shippingModal").data("chosen")?void Sellyx.ajax.standard({url:"save",button:$(this),container:$("#shippingModal"),json:!0,data:"&seller="+$("#shippingModal").data("chosen"),erase:!0,success:function(){window.location.reload()}}):!1}).on("click",".toggle-button",function(){$(this).parent().next("div").slideToggle()}).on("click",".redeem-button",function(){Sellyx.ajax.standard({url:$(this).data("method"),button:$(this),container:{divs:$(this).parents(".send-div"),html:"data-var"},success:function(){window.location.reload()}})}).on("click",".remove-offer-button",function(){Sellyx.ajax.standard({url:"l_remove",button:$(this),data:"&seller="+$(this).data("seller")+"&type="+$(this).data("type"),success:function(){window.location.reload()}})}).on("click","#empty_cart_button",function(){Sellyx.ajax.standard({url:"empty",button:$(this),lang:a.ajax.empty,success:function(){window.location.reload()}})}).on("change click",'input:radio[name="cards"]',function(){0==$(this).val()?$("#new_card_div").slideDown().find(".form-control").addClass("send validate"):$("#new_card_div").slideUp().find(".form-control").removeClass("send validate")}).on("click","#finish_checkout_button",function(){{var b="";$(this)}b+=0==$('input:radio[name="cards"]:checked').val()?"&card="+JSON.stringify(Sellyx.values.get({divs:$("#new_card_div"),html:"data-var",json:!0})):"&card="+$('input:radio[name="cards"]:checked').val(),Sellyx.ajax.standard({url:"l_finish",data:b,lang:a.ajax.finalize,block:"window",container:{divs:$("#checkout_container_div"),html:"data-var"},success:function(){window.location.assign("/manager/orders")}})});var b=function(a){var b={titles:{sm:10,offset:1},items:{offset:1,sm:10}},c=function(c,d,e,f){var g={};return $.each(c,function(a,b){g[a]=b.service.label+" - "+b.rate}),Sellyx.factory.select({id:a.id?e?a.type+"."+d+"."+e+(f?"."+f:""):a.type+"."+d:a.type,label:a.label?a.get_label?$('.checkout-row[listing="'+d+'"] a:first').text():a.label:"",classes:"send validate",options:g},b)};if(a.child){var d="";return $.each(a.data,function(a,b){d+=c(b,a)}),d}if(a.superchild){var d="";return $.each(a.data,function(a,b){$.each(b,function(b,e){"grouped"==b?d+=c(e,a,b):$.each(e,function(e,f){d+=c(f,a,b,e)})})}),d}return c(a.data,null)}});