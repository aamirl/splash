var active=null;$(document).on("ready",function(){{var a=s_lang.manager_interests;$("#interestTable").DataTable(Sellyx.dt.init({columns:[{orderable:!1,data:null,defaultContent:'<i class="fa fa-lg fa-plus-circle item-details-control"></i>',"class":"center"},{data:"images","class":"center",render:function(a,b,c){return a&&0!=a.length?'<img src="'+a[0].small+'"></img>':c.world?"<span>Add World Images For This Listing</span>":"<span>Add Images Now</span>"}},{title:a.tables.active.columns.added,data:"interest.setup.added.label","class":"center"},{title:a.tables.active.columns.listing,data:"title","class":"center",render:function(a,b,c){return'<span class="s-d-blue">'+c.condition.label+"</span><br /><label>"+c.type.label+"</label><br /><span>"+a+"</span><br /><span>"+(c.seller?'<a  target="_blank"  href="/world/seller/'+c.seller.id+'">'+c.seller.name+"</a>":'<a target="_blank" href="/world/user/'+c.user.id+'">'+c.user.name+"</a>")+"</span>"}},{title:a.tables.active.columns.pricing,data:"price.label","class":"center",render:function(a,b,c){return"<label>Seller Wanted</label><span> "+a+"</span><br/><label>You Offered</label><span> "+c.interest.price.label+"</span>"}},{title:a.tables.active.columns.actions,data:"interest.setup.status","class":"center",render:function(a,b,c){return 3==c.setup.status.id?'<span style="font-weight:bold;text-transform:uppercase;" class="s-d-red"> Listing Sold</span>':1!=a.id&&2!=a.id?"<span>"+a.label+"</span>":1==a.id?Sellyx.dt.actions({status:a.label,buttons:['<a class="clickable change-status-button" data-status="2" data-merge="true"><i class="fa fa-minus-circle"></i> Withdraw Interest</a>'],go:[1],id:a.id}):2==a.id?Sellyx.dt.actions({status:a.label,buttons:['<a class="clickable change-status-button" data-status="1" data-merge="true"><i class="fa fa-refresh"></i> Renew Interest</a>'],go:[1],id:a.id}):void 0}}],ajax:"interests",rowCallback:function(a,b){3==b.type.id&&$(a).find(".item-details-control").remove()}}))}$(document).on("click",".item-details-control , #interestTable tbody > tr.odd , #interestTable tbody > tr.even",function(a){a.stopImmediatePropagation();var b=Sellyx.row.data($(this));active=b;var c=b.data;if(3!=c.type.id)if(b.dtrow.child.isShown())b.dtrow.child.hide(),b.row.find(".item-details-control").addClass("fa-plus-circle").removeClass("fa-minus-circle");else{var d='<table class="child-table" cellpadding="5" cellspacing="0" border="0" style="width:100%;"><tbody><tr><td colspan="3"><span style="border-bottom: 1px solid #DDD;padding-bottom:5px;margin-bottom:5px;">'+c.description+"</span><br /><br />";d+=4==c.type.id||5==c.type.id?"<span>"+c.htype.label+", "+c.square_feet+" Sqft</span><br /><span>"+c.rooms.label+" Rooms</span><br /><span>"+c.bathrooms_f.label+" Full Bathrooms</span><br /><span>"+c.bathrooms_h.label+" Half Bathrooms</span><br /><span>Pets "+c.pets.label+"</span><br />":"<span>"+c.category.label+", </span><span>"+(c.quantity?c.quantity+" Offered, ":"")+c.condition.label+"</span><br />"+(c.p_type?'<i class="fa fa-money s-d-green"></i><span> Price '+c.p_type.label+"</span>":"")+(c.delivery?'<br /><i class="fa fa-truck s-d-blue"></i><span> '+c.delivery.value.label+"</span>"+(c.delivery.extra?'<span class="s-d-red"> '+c.delivery.extra.label+"</span>":""):""),d+="</td>",d+="<td><label>"+c.interest.contact.label+"</label>"+(c.interest.method?"<span> "+c.interest.method+"</span>":"")+'<br /><br /><a class="clickable show-messages-button">Show Messages</a></td>',b.row.find(".item-details-control").removeClass("fa-plus-circle").addClass("fa-minus-circle"),b.dtrow.child(d+"</tbody></table>").show()}})});