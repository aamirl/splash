$(document).on("ready",function(){{var a=s_lang.corporate_approvals_tracking;$("#trackingTable").dataTable(Sellyx.dt.init({columns:[{orderable:!1,data:null,defaultContent:'<i class="fa fa-lg fa-plus-circle item-details-control"></i>',"class":"center"},{title:a.tables.active.columns.order,data:"id","class":"center",render:function(a,b,c){return"<span>"+a+'</span><br/><a href="/world/seller/'+c.seller.id+'" target="_blank" onclick="event.stopImmediatePropagation()">'+c.seller.name+'</a><i class="fa fa-fw fa-arrow-right s-d-red"></i> <a href="/world/user/'+c.user.id+'" target="_blank" onclick="event.stopImmediatePropagation()">'+c.user.name+"</a>"}},{title:a.tables.active.columns.placed,data:"setup.added.label","class":"center"},{title:a.tables.active.columns.total,data:"totals","class":"center form-horizontal",render:function(a){return Sellyx.factory.quick().displays({data:a,l:5,v:7})}},{title:a.tables.active.columns.actions,data:"setup.status","class":"center",render:function(a,b,c){var d={status:a.label,buttons:[],pending:[4],id:a.id};return d.buttons.push('<a class="clickable change-status-button" data-status="16" data-remove="true"><i class="fa fa-check-circle"></i> Confirm Tracking Number</a>'),d.buttons.push('<a class="clickable change-status-button" data-status="17" data-remove="true"><i class="fa fa-ban"></i> Inaccurate Tracking Number</a>'),d.buttons.push('<a class="clickable message-button" data-message=""><i class="fa fa-institution"></i> Message '+c.seller.name+"</a>"),d.buttons.push('<a class="clickable message-button" data-message=""><i class="fa fa-user"></i> Message '+c.user.name+"</a>"),Sellyx.dt.actions(d)}}],ajax:"trackings",rowCallback:function(a,b){console.log(b)}}))}$(document).on("click",".item-details-control , #trackingTable tbody > tr.odd , #trackingTable tbody > tr.even",function(a){a.stopImmediatePropagation();var b=Sellyx.row.data($(this)),c=b.data;if(b.dtrow.child.isShown())b.dtrow.child.hide(),b.row.find(".item-details-control").addClass("fa-plus-circle").removeClass("fa-minus-circle");else{var d='<table class="child-table" cellpadding="5" cellspacing="0" border="0" style="width:100%;"><thead><tr style="background-color:darkcyan;"><td>Items</td><td>Service</td></tr></thead><tbody>',e={"n-processing":[],"dn-processing":[],"c-processing":[]};$.each(c.items,function(a,b){return"sellyx-1"==b.shipping.responsibility||"sellyx-2"==b.shipping.responsibility&&!b.shipping.rate||b.shipping.service.tracking?void e["dn-processing"].push(b):b.shipping.type?void e["c-processing"].push(b):void e["n-processing"].push(b)});var f=!1;$.each(e,function(a,b){if(0!=b.length){var c="n-processing"==a?!1:!0,e={1:"",2:""};$.each(b,function(b,g){c?e={1:"",2:""}:null,e[1]+='<div style="margin-bottom:5px;" class="listing-item" data-listing="'+g.listing+'"><b class="btn-d-white" style="padding:0.5px 4.5px;background-color:#1b1b1b;color:#FFF;border-radius:10px;">'+g.quantity+'</b> <a href="/world/product/'+g.item.id+"?&listing="+g.listing+'" target="_blank" onclick="event.stopImmediatePropagation()">'+g.item.name+"</a><br /><br/><label>Listing</label><span> "+g.listing+"</span>"+(g.promotions.length>0?"<br /><br /><label>Applied Promotions</label><br /><span>"+g.promotions.join(", ")+"</span>":"")+'<div><br /><a class="clickable see-more-div">See Item Totals</a><div style="display:none;" class="form-horizontal">'+Sellyx.factory.quick().displays({data:g.totals,l:5,v:7})+"</div></div></div>","n-processing"==a&&f||("n-processing"==a&&(f=!0),e[2]="<span>"+g.shipping.service.service.label+'</span><span class="s-d-aqua"> '+(g.shipping.service.rate?g.shipping.service.rate:"")+"</span><br /><span>"+g.shipping.service.packaging.label+"</span>"+(g.shipping.type?"":"<br /><label>Grouped Rate</label>")+(g.shipping.service.tracking?'<br /><br /><div class="tracking-div"><label>Tracking</label><br /><span> '+g.shipping.service.tracking.id+"</span></br>"+(g.shipping.service.tracking.courier?"<span>"+g.shipping.service.tracking.courier+"</span><br />":"")+"<span>"+g.shipping.service.tracking.added+"</span></div>":""),c&&(d+='<tr class="child-row '+a+" "+("dn-processing"!=a?"row-error":"")+'">',$.each(e,function(a,b){d+='<td style="'+(3==a?"max-width:600px":"")+'">'+b+"</td>"}),d+="</tr>"))}),c||(d+='<tr class="child-row '+a+" "+("dn-processing"!=a?"row-error":"")+'">',$.each(e,function(a,b){d+='<td style="'+(3==a?"max-width:600px":"")+'">'+b+"</td>"}),d+="</tr>")}}),b.row.find(".item-details-control").removeClass("fa-plus-circle").addClass("fa-minus-circle"),b.dtrow.child(d+"</table>").show()}})});