$(document).on("ready",function(){{var a,b,c=s_lang.manager_corporate_transfers;$("#transferTable").dataTable(Sellyx.dt.init({columns:[{orderable:!1,data:null,defaultContent:'<i class="fa fa-lg fa-plus-circle item-details-control"></i>',"class":"center"},{title:c.tables.active.columns.id,data:"id","class":"center"},{title:c.tables.active.columns.seller,data:"seller","class":"center",render:function(a){return a.name+"<br />"+a.country}},{title:c.tables.active.columns.added,data:"setup.added.label","class":"center"},{title:c.tables.active.columns.requested,data:"amount.label","class":"center"},{title:c.tables.active.columns.transferred,data:"transferred","class":"center",render:function(a){return a.label?a.label:a}},{title:c.tables.active.columns.actions,data:"setup.status","class":"center",render:function(){return'<a class="clickable send-transfer-button" data-status="2">Confirm Transfer</a><br/><a class="clickable send-transfer-button" data-status="4">Transfer Attempt Failed</a><br/><a class="clickable send-transfer-button" data-status="3">Deny Transfer</a>'}}],order:[[0,"desc"]],ajax:"transfers",rowCallback:function(){}}))}$(document).on("click",".item-details-control , #transferTable tbody > tr.odd , #transferTable tbody > tr.even",function(a){a.stopImmediatePropagation();var b=Sellyx.row.data($(this));if(b.dtrow.child.isShown())b.dtrow.child.hide(),b.row.find(".item-details-control").addClass("fa-plus-circle").removeClass("fa-minus-circle");else{Sellyx.ajax.standard({url:"info",data:"&id="+b.data.seller.id,success:function(a){b.row.next("tr").find(".child-table").children().remove().end().append('<tr><td class="form-horizontal no-top no-bottom">'+Sellyx.factory.quick().displays({data:a,l:4,v:7})+"</td></tr>")}});var c='<div><table class="child-table table" cellpadding="5" cellspacing="0" border="0"><tr><td>Loading Seller Details...</td></tr>';b.row.find(".item-details-control").removeClass("fa-plus-circle").addClass("fa-minus-circle"),b.dtrow.child(c+"</table></div>").show()}}).on("click",".send-transfer-button",function(c){c.stopImmediatePropagation(),a=Sellyx.row.data($(this)),b=$(this).data("status"),3==b?($('input[data-var="transaction_id"]').removeClass("send validate").parents(".form-group").hide(),$('textarea[data-var="notes"]').addClass("validate")):($('input[data-var="transaction_id"]').addClass("send validate").parents(".form-group").show(),$('textarea[data-var="notes"]').removeClass("validate")),$("#transferredModal").modal("show")}).on("click",".submit-transfer-button",function(){Sellyx.ajax.standard({url:"transferred",container:{divs:$("#transferredModal"),html:"data-var"},data:"&id="+a.data.id+"&status="+b,update:{row:a.row,remove:!0}})})});